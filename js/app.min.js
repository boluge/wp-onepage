!function(e){var t=e(window),n=t.height();t.resize(function(){n=t.height()}),e.fn.parallax=function(o,r,i){function a(){var i=t.scrollTop();c.each(function(){var t=e(this),a=t.offset().top,f=s(t);i>a+f||a>i+n||c.css("backgroundPosition",o+" "+Math.round((l-i)*r)+"px")})}var s,l,c=e(this);c.each(function(){l=c.offset().top}),s=i?function(e){return e.outerHeight(!0)}:function(e){return e.height()},(arguments.length<1||null===o)&&(o="50%"),(arguments.length<2||null===r)&&(r=.1),(arguments.length<3||null===i)&&(i=!0),t.bind("scroll",a).resize(a),a()}}(jQuery),function(e){function t(t,n,o){var r=n.hash.slice(1),i=document.getElementById(r)||document.getElementsByName(r)[0];if(i){t&&t.preventDefault();var a=e(o.target);if(!(o.lock&&a.is(":animated")||o.onBefore&&o.onBefore.call(o,t,i,a)===!1)){if(o.stop&&a.stop(!0),o.hash){var s=i.id==r?"id":"name",l=e("<a> </a>").attr(s,r).css({position:"absolute",top:e(window).scrollTop(),left:e(window).scrollLeft()});i[s]="",e("body").prepend(l),location=n.hash,l.remove(),i[s]=r}a.scrollTo(i,o).trigger("notify.serialScroll",[i])}}}var n=location.href.replace(/#.*/,""),o=e.localScroll=function(t){e("body").localScroll(t)};o.defaults={duration:1e3,axis:"y",event:"click",stop:!0,target:window,reset:!0},o.hash=function(n){if(location.hash){if(n=e.extend({},o.defaults,n),n.hash=!1,n.reset){var r=n.duration;delete n.duration,e(n.target).scrollTo(0,n),n.duration=r}t(0,location,n)}},e.fn.localScroll=function(r){function i(){return!(!this.href||!this.hash||this.href.replace(this.hash,"")!=n||r.filter&&!e(this).is(r.filter))}return r=e.extend({},o.defaults,r),r.lazy?this.bind(r.event,function(n){var o=e([n.target,n.target.parentNode]).filter(i)[0];o&&t(n,o,r)}):this.find("a,area").filter(i).bind(r.event,function(e){t(e,this,r)}).end().end()}}(jQuery),function(e){function t(e){return"object"==typeof e?e:{top:e,left:e}}var n=e.scrollTo=function(t,n,o){e(window).scrollTo(t,n,o)};n.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1},n.window=function(){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||-1!=e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!n)return t;var o=(t.contentWindow||t).document||t.ownerDocument||t;return e.browser.safari||"BackCompat"==o.compatMode?o.body:o.documentElement})},e.fn.scrollTo=function(o,r,i){return"object"==typeof r&&(i=r,r=0),"function"==typeof i&&(i={onAfter:i}),"max"==o&&(o=9e9),i=e.extend({},n.defaults,i),r=r||i.speed||i.duration,i.queue=i.queue&&i.axis.length>1,i.queue&&(r/=2),i.offset=t(i.offset),i.over=t(i.over),this._scrollable().each(function(){function a(e){c.animate(u,r,i.easing,e&&function(){e.call(this,o,i)})}var s,l=this,c=e(l),f=o,u={},h=c.is("html,body");switch(typeof f){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(f)){f=t(f);break}f=e(f,this);case"object":(f.is||f.style)&&(s=(f=e(f)).offset())}e.each(i.axis.split(""),function(e,t){var o="x"==t?"Left":"Top",r=o.toLowerCase(),d="scroll"+o,m=l[d],p=n.max(l,t);if(s)u[d]=s[r]+(h?0:m-c.offset()[r]),i.margin&&(u[d]-=parseInt(f.css("margin"+o))||0,u[d]-=parseInt(f.css("border"+o+"Width"))||0),u[d]+=i.offset[r]||0,i.over[r]&&(u[d]+=f["x"==t?"width":"height"]()*i.over[r]);else{var g=f[r];u[d]=g.slice&&"%"==g.slice(-1)?parseFloat(g)/100*p:g}/^\d+$/.test(u[d])&&(u[d]=u[d]<=0?0:Math.min(u[d],p)),!e&&i.queue&&(m!=u[d]&&a(i.onAfterFirst),delete u[d])}),a(i.onAfter)}).end()},n.max=function(t,n){var o="x"==n?"Width":"Height",r="scroll"+o;if(!e(t).is("html,body"))return t[r]-e(t)[o.toLowerCase()]();var i="client"+o,a=t.ownerDocument.documentElement,s=t.ownerDocument.body;return Math.max(a[r],s[r])-Math.min(a[i],s[i])}}(jQuery);